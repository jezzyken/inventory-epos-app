"use strict";(self["webpackChunkvue2"]=self["webpackChunkvue2"]||[]).push([[186],{391:function(e,t,i){i.r(t),i.d(t,{default:function(){return y}});var a=i(7314),s=i(1484),d=i(2938),l=i(4414),o=i(3449),n=i(4245),c=i(9991),r=i(9483),m=i(2756),u=i(1034),h=i(7112),I=i(198),x=i(2367),p=function(){var e=this,t=e._self._c;return t(o.A,[t(n.A,{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,loading:e.isLoading,"sort-by":"calories"},scopedSlots:e._u([{key:"top",fn:function(){return[t(I.A,{attrs:{flat:""}},[t(x.sw,[e._v("Products")]),t(r.A,{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t(u.A),t(c.A,{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function({}){return[t(a.A,{staticClass:"mb-2",attrs:{color:"primary",dark:"",to:{name:"AddProduct"}}},[e._v(" Add ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(s.A,[t(d.ri,[t("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),t(d.OQ,[t(o.A,[t(m.A,[t(l.A,{attrs:{cols:"12"}},[t(h.A,{attrs:{label:"Name"},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1)],1),t(m.A,[t(l.A,{attrs:{cols:"12"}},[t(h.A,{attrs:{label:"Company"},model:{value:e.editedItem.company,callback:function(t){e.$set(e.editedItem,"company",t)},expression:"editedItem.company"}})],1)],1),t(m.A,[t(l.A,{attrs:{cols:"12"}},[t(h.A,{attrs:{label:"Email"},model:{value:e.editedItem.email,callback:function(t){e.$set(e.editedItem,"email",t)},expression:"editedItem.email"}})],1)],1),t(m.A,[t(l.A,{attrs:{cols:"12"}},[t(h.A,{attrs:{label:"Contact No"},model:{value:e.editedItem.contactNo,callback:function(t){e.$set(e.editedItem,"contactNo",t)},expression:"editedItem.contactNo"}})],1)],1),t(m.A,[t(l.A,{attrs:{cols:"12"}},[t(h.A,{attrs:{label:"Address"},model:{value:e.editedItem.address,callback:function(t){e.$set(e.editedItem,"address",t)},expression:"editedItem.address"}})],1)],1)],1)],1),t(d.SL,[t(u.A),t(a.A,{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),t(a.A,{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Save ")])],1)],1)],1),t(c.A,{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[t(s.A,[t(d.ri,{staticClass:"text-h5"},[e._v("Are you sure you want to delete this item?")]),t(d.SL,[t(u.A),t(a.A,{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),t(a.A,{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),t(u.A)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function({item:i}){return[t(a.A,{attrs:{"x-small":"",color:"warning",to:{name:"EditProduct",params:{id:i._id}}}},[e._v(" edit ")]),t("span",{staticClass:"mr-1"}),t(a.A,{attrs:{"x-small":"",color:"error",dark:""},on:{click:function(t){return e.deleteItem(i)}}},[e._v(" delete ")])]}},{key:"no-data",fn:function(){return[t(a.A,{attrs:{color:"primary"},on:{click:e.initialize}},[e._v(" Reset ")])]},proxy:!0}],null,!0)})],1)},A=[],g=(i(4114),i(5353)),v={data:()=>({dialog:!1,dialogDelete:!1,headers:[{text:"Product Code",align:"start",sortable:!1,value:"productCode"},{text:"Name",align:"start",value:"name"},{text:"Description",align:"start",value:"description"},{text:"Brand",align:"start",value:"brand.name"},{text:"Category",align:"start",value:"category.name"},{text:"Quantity",align:"start",value:"stocksQuantity"},{text:"Actions",value:"actions",sortable:!1}],items:[],editedIndex:-1,editedItem:{name:"",company:"",email:"",contactNo:"",address:""},defaultItem:{name:"",company:"",email:"",contactNo:"",address:""},itemId:null,isLoading:!1}),computed:{formTitle(){return-1===this.editedIndex?"New Item":"Edit Item"}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()}},async created(){await this.initialize()},methods:{...(0,g.i0)({getItems:"product/getItem",addItem:"product/addItem",removeItem:"product/deleteItem",updateItem:"product/updateItem"}),async initialize(){this.isLoading=!0;const e=await this.getItems();console.log(e),this.items=e.result,this.isLoading=!1},editItem(e){this.editedIndex=this.items.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem(e){this.editedIndex=this.items.indexOf(e),this.itemId=e._id,this.editedItem=Object.assign({},e),this.dialogDelete=!0},async deleteItemConfirm(){await this.removeItem(this.itemId),this.items.splice(this.editedIndex,1),this.closeDelete()},close(){this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},async save(){this.editedIndex>-1?(Object.assign(this.items[this.editedIndex],this.editedItem),await this.updateItem(this.editedItem)):(this.items.push(this.editedItem),await this.addItem(this.editedItem)),this.close()}},watch:{items(e){return e}}},f=v,k=i(1656),b=(0,k.A)(f,p,A,!1,null,null,null),y=b.exports}}]);
//# sourceMappingURL=186.fd0991cb.js.map