{"version":3,"file":"js/796.198ca3ca.js","mappings":"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","sources":["webpack://vue2/./src/views/products/ProductForm.vue","webpack://vue2/src/views/products/ProductForm.vue","webpack://vue2/./src/views/products/ProductForm.vue?d2f3","webpack://vue2/./src/views/products/ProductForm.vue?3001"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.isLoading)?_c('v-container',[_c('v-sheet',{staticClass:\"pa-5\",attrs:{\"elevation\":\"1\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\"}},[_c('v-text-field',{attrs:{\"label\":\"Name\"},model:{value:(_vm.items.name),callback:function ($$v) {_vm.$set(_vm.items, \"name\", $$v)},expression:\"items.name\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\"}},[_c('v-text-field',{attrs:{\"label\":\"Product Code\"},model:{value:(_vm.items.productCode),callback:function ($$v) {_vm.$set(_vm.items, \"productCode\", $$v)},expression:\"items.productCode\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\"}},[_c('v-select',{attrs:{\"label\":\"Select\",\"items\":_vm.category,\"item-text\":\"name\",\"item-value\":\"_id\"},model:{value:(_vm.items.category),callback:function ($$v) {_vm.$set(_vm.items, \"category\", $$v)},expression:\"items.category\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\"}},[_c('v-select',{attrs:{\"label\":\"Select\",\"items\":_vm.brand,\"item-text\":\"name\",\"item-value\":\"_id\"},model:{value:(_vm.items.brand),callback:function ($$v) {_vm.$set(_vm.items, \"brand\", $$v)},expression:\"items.brand\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"2\"}},[_c('v-text-field',{attrs:{\"label\":\"Critical Limit\"},model:{value:(_vm.items.criticalLimit),callback:function ($$v) {_vm.$set(_vm.items, \"criticalLimit\", $$v)},expression:\"items.criticalLimit\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"5\"}},[_c('v-text-field',{attrs:{\"label\":\"Description\"},model:{value:(_vm.items.description),callback:function ($$v) {_vm.$set(_vm.items, \"description\", $$v)},expression:\"items.description\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"5\"}},[_c('v-text-field',{attrs:{\"label\":\"Image URL\"},model:{value:(_vm.items.image),callback:function ($$v) {_vm.$set(_vm.items, \"image\", $$v)},expression:\"items.image\"}})],1)],1)],1),_c('v-sheet',{staticClass:\"pa-5 mt-5\",attrs:{\"elevation\":\"1\"}},[_c('v-simple-table',{scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',{staticClass:\"text-left\"},[_vm._v(\"Unit\")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\"Variant\")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\"Item Price\")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\"Sale Price\")])])]),_c('tbody',_vm._l((_vm.items.prices),function(price,i){return _c('tr',{key:i},[_c('td',[_c('v-select',{attrs:{\"items\":_vm.unit,\"label\":\"Select\",\"item-text\":\"name\",\"item-value\":\"_id\"},model:{value:(price.unit),callback:function ($$v) {_vm.$set(price, \"unit\", $$v)},expression:\"price.unit\"}})],1),_c('td',[_c('v-select',{attrs:{\"items\":_vm.variant,\"label\":\"Select\",\"item-text\":\"name\",\"item-value\":\"_id\"},model:{value:(price.variant),callback:function ($$v) {_vm.$set(price, \"variant\", $$v)},expression:\"price.variant\"}})],1),_c('td',[_c('v-text-field',{attrs:{\"label\":\"Sale Price\"},model:{value:(price.itemPrice),callback:function ($$v) {_vm.$set(price, \"itemPrice\", $$v)},expression:\"price.itemPrice\"}})],1),_c('td',[_c('v-text-field',{attrs:{\"label\":\"Item Price\"},model:{value:(price.salePrice),callback:function ($$v) {_vm.$set(price, \"salePrice\", $$v)},expression:\"price.salePrice\"}})],1)])}),0)]},proxy:true}],null,false,3866335151)}),_c('v-row',{staticClass:\"ma-4\",attrs:{\"justify\":\"end\"}},[_c('v-btn',{attrs:{\"dark\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.addPrice}},[_vm._v(\"Add price\")])],1)],1),_c('v-row',{staticClass:\"ma-0 mt-6\",attrs:{\"justify\":\"start\"}},[_c('v-btn',{attrs:{\"dark\":\"\",\"color\":_vm.pageMode.color},on:{\"click\":_vm.pageMode.action}},[_vm._v(_vm._s(_vm.pageMode.label))]),_c('div',{staticClass:\"ma-1\"}),_c('v-btn',[_vm._v(\"clear\")])],1)],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container v-if=\"!isLoading\">\n    <v-sheet elevation=\"1\" class=\"pa-5\">\n      <v-row>\n        <v-col cols=\"12\" md=\"3\">\n          <v-text-field v-model=\"items.name\" label=\"Name\"></v-text-field>\n        </v-col>\n        <v-col cols=\"12\" md=\"3\">\n          <v-text-field v-model=\"items.productCode\" label=\"Product Code\"></v-text-field>\n        </v-col>\n        <v-col cols=\"12\" md=\"3\">\n          <v-select v-model=\"items.category\" label=\"Select\" :items=\"category\" item-text=\"name\"\n            item-value=\"_id\"></v-select>\n        </v-col>\n        <v-col cols=\"12\" md=\"3\">\n          <v-select v-model=\"items.brand\" label=\"Select\" :items=\"brand\" item-text=\"name\" item-value=\"_id\"></v-select>\n        </v-col>\n        <v-col cols=\"12\" md=\"2\">\n          <v-text-field v-model=\"items.criticalLimit\" label=\"Critical Limit\"></v-text-field>\n        </v-col>\n        <v-col cols=\"12\" md=\"5\">\n          <v-text-field v-model=\"items.description\" label=\"Description\"></v-text-field>\n        </v-col>\n        <v-col cols=\"12\" md=\"5\">\n          <v-text-field v-model=\"items.image\" label=\"Image URL\"></v-text-field>\n        </v-col>\n      </v-row>\n    </v-sheet>\n\n    <v-sheet elevation=\"1\" class=\"pa-5 mt-5\">\n      <v-simple-table>\n        <template v-slot:default>\n          <thead>\n            <tr>\n              <th class=\"text-left\">Unit</th>\n              <th class=\"text-left\">Variant</th>\n              <th class=\"text-left\">Item Price</th>\n              <th class=\"text-left\">Sale Price</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(price, i) in items.prices\" :key=\"i\">\n              <td>\n                <v-select v-model=\"price.unit\" :items=\"unit\" label=\"Select\" item-text=\"name\"\n                  item-value=\"_id\"></v-select>\n              </td>\n              <td>\n                <v-select v-model=\"price.variant\" :items=\"variant\" label=\"Select\" item-text=\"name\"\n                  item-value=\"_id\"></v-select>\n              </td>\n              <td>\n                <v-text-field v-model=\"price.itemPrice\" label=\"Sale Price\"></v-text-field>\n              </td>\n              <td>\n                <v-text-field v-model=\"price.salePrice\" label=\"Item Price\"></v-text-field>\n              </td>\n            </tr>\n          </tbody>\n        </template>\n      </v-simple-table>\n      <v-row justify=\"end\" class=\"ma-4\">\n        <v-btn dark color=\"primary\" @click=\"addPrice\">Add price</v-btn>\n      </v-row>\n    </v-sheet>\n\n    <v-row justify=\"start\" class=\"ma-0 mt-6\">\n      <v-btn dark :color=\"pageMode.color\" @click=\"pageMode.action\">{{\n        pageMode.label\n      }}</v-btn>\n      <div class=\"ma-1\"></div>\n      <v-btn>clear</v-btn>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\n/*eslint-disable */\nimport { mapActions } from \"vuex\";\n\nexport default {\n  props: {\n    mode: String, // 'add' or 'edit'\n  },\n  data() {\n    return {\n      items: {\n        image:\n          \"https://media.istockphoto.com/id/173633236/photo/hand-saw.webp?b=1&s=170667a&w=0&k=20&c=fk-bGhRNrB-MPIvOJXcVw9QE4fyXzJfTQeleMFwVXbA=\",\n        prices: [{}],\n      },\n      // priceItem: [{}],\n      isLoading: false,\n      category: [],\n      unit: [],\n      variant: [],\n      brand: [],\n    };\n  },\n  computed: {\n    pageMode() {\n      let state = {\n        color: \"warning\",\n        action: this.onUpdateItem,\n        label: \"update\",\n      };\n      if (this.mode === \"add\") {\n        state = {\n          color: \"primary\",\n          action: this.onAddItem,\n          label: \"add\",\n        };\n      }\n      return state;\n    },\n  },\n  async created() {\n    this.fetch();\n    if (this.$route?.params?.id) {\n      this.initialize();\n    }\n  },\n\n  methods: {\n    ...mapActions({\n      getItemById: \"product/getItemById\",\n      getItemByProductId: \"itemPrice/getItemByProductId\",\n      addItem: \"product/addItem\",\n      updateItem: \"product/updateItem\",\n      getCategoryItems: \"category/getItem\",\n      getVariantItems: \"variant/getItem\",\n      getUnitItems: \"unit/getItem\",\n      getBrandItems: \"brand/getItem\",\n    }),\n    async initialize() {\n      this.isLoading = true;\n      const response = await this.getItemById(this.$route.params.id);\n      this.items = {\n        ...response.result,\n        brand: response.result.brand._id,\n        category: response.result.category._id,\n        prices: response.result.prices.map(item => ({\n          ...item,\n          unit: item.unit._id,\n          variant: item.variant._id\n        }))\n      };\n      this.isLoading = false;\n    },\n\n    addPrice() {\n      this.items.prices.push({});\n    },\n\n    async onAddItem() {\n      await this.addItem(this.items);\n      this.$router.push(\"/product\");\n    },\n\n    async onUpdateItem() {\n      const data = {\n        id: this.$route?.params?.id,\n        data: this.items\n      }\n      await this.updateItem(data);\n      this.$router.push('/product');\n    },\n\n    async fetch() {\n      const category = await this.getCategoryItems();\n      const unit = await this.getUnitItems();\n      const brand = await this.getBrandItems();\n      const variant = await this.getVariantItems();\n      this.category = category.result;\n      this.unit = unit.result;\n      this.brand = brand.result;\n      this.variant = variant.result;\n    },\n  },\n\n};\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProductForm.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProductForm.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ProductForm.vue?vue&type=template&id=16027a41\"\nimport script from \"./ProductForm.vue?vue&type=script&lang=js\"\nexport * from \"./ProductForm.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["attrs","model","callback","$set","expression","scopedSlots","key","_c","staticClass","_v","i","value","$$v","price","itemPrice","salePrice","on","staticRenderFns","props","mode","String","data","items","image","prices","isLoading","category","unit","variant","brand","computed","pageMode","state","color","action","onUpdateItem","label","onAddItem","created","fetch","$route","params","id","initialize","methods","mapActions","getItemById","getItemByProductId","addItem","updateItem","getCategoryItems","getVariantItems","getUnitItems","getBrandItems","response","result","_id","map","item","addPrice","push","$router","component","render"],"sourceRoot":""}